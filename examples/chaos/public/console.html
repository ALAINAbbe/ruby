<html>
<head>

    <link rel="stylesheet" type="text/css" href="console.css">
    <script src=https://cdn.pubnub.com/pubnub.js></script>
    <script src=http://code.jquery.com/jquery-1.11.0.min.js></script>

    <script src=console.js></script>

</head>
<body>

<script src="moment.js"></script>
<script>
    moment().format();
</script>


<div id="subChannelsLabel"></div>
<div id="subInput">
    <input value="" size=105 id="subChannels" onchange='subscribeFromInput()'></textarea>
</div>

<div id="outputs">

    <div class="outputs" id="subOutputDiv">
        <textarea id="subOutputTextarea" rows=10 cols="75"></textarea>
    </div>

    <div class="outputs" id="errorOutputDiv">
        <textarea id="errorOutputTextarea" rows=10 cols="75"></textarea>
    </div>

</div>

<div class="test">Get Config</div>
<button onclick="getConfig()">Get Config</button>

<div class="subscriber"><h2>Subscribe</h2>
    <div class="test">Sub Proxy to bot</div>
    <button onclick="subTo('bot')">Sub to Bot</button>

    <div class="test">Set HTTP Response code to 403s</div>
    <button onclick="setStatusTo(403, 'http_status', 'subscribe', 'value')">403</button>

    <div class="test">Set HTTP Response code to 200s</div>
    <button onclick="setStatusTo(200, 'http_status', 'subscribe', 'value')">200</button>

    <div class="test">Set HTTP Response code to</div>
    <!--<input onchange="setStatusTo(parseInt(this.value), 'http_status', 'subscribe', 'value')" name="subscribe_arbitrary_port"></input>-->
    <input onkeypress="return onValueChange(event, 'httpResponseCode', this.value, 'http_status', 'subscribe', 'value')" name="subscribe_arbitrary_port"></input>

</div>

<div class="envelope"><h2>Channel Options</h2>

    <input checked type="radio" name="channelOptions" value="default" onchange="setStatusTo('default', 'channel_options', 'subscribe', 'value')">Default
    <input type="radio" name="channelOptions" value="none" onchange="setStatusTo('none', 'channel_options', 'subscribe', 'value')">None
    <input type="radio" name="channelOptions" value="custom" onchange="setStatusTo({'custom':$('#customChannelChange').val()}, 'channel_options', 'subscribe', 'value')", 'channel_options', 'subscribe', 'value')">Custom (eg x OR x,y,z)
    <input value="badChannel" id="customChannelChange" name="customChannelChange"></input>



</div>

<div class="envelope"><h2>Envelope</h2>

    <div class="test">Send well-formed message fragment [1,2,3]</div>
    <button onclick="pubFragment([1,2,3])">fragment</button>

    <div class="test">Send well-formed message fragment ["hi"]</div>
    <button onclick='pubFragment(["hi"])'>fragment</button>

    <div class="test">Send well-formed message fragment [{"foo":"bar"}]</div>
    <button onclick='pubFragment([{"foo":"bar"}])'>fragment</button>

    <div class="test">Send Arbitrary Message Element Fragment. eg: ["foo"] or ["first",2,["third"],{"fourth":"fifth"}]</div>
    <input size="50" onkeypress="return onValueChange(event, 'messageFragment', this.value)" ></input>

    <div class="test">Send Arbitrary Response eg: [["first",2,["third"],{"fourth":"fifth"}], "1234", "a,b,bot"]</div>
    <input size="50" onkeypress="return onValueChange(event, 'arbitraryResponse', this.value)" ></input>

</div>

<div class="timer"><h2>Time</h2>


    <div class="test">Send back 403s</div>
    <button onclick="setStatusTo(403, 'http_status', 'time', 'value')">403</button>

    <div class="test">Send back 200s</div>
    <button onclick="setStatusTo(200, 'http_status', 'time', 'value')">200</button>

    <div class="test">Toggle CORS</div>
    <button onclick="setStatusTo(true, 'cors', 'headers', 'enabled')">Enable CORS</button>
    <button onclick="setStatusTo(false, 'cors', 'headers', 'enabled')">Disable CORS</button>


    </div>

<div class="general"><h2>General</h2>






    <div class="test">Status Code Tests</div>

    <button onclick="disableCORS()">Always send Random Bad Status Code</button>
    <button onclick="disableCORS()">Always send Known Bad Status Code:</button>
    <button onclick="disableCORS()">Always send Good Status Code:</button>

    <div class="test">Well-formed JSON Tests</div>
    <button onclick="disableCORS()">Always send Random Bad JSON</button>
    <button onclick="disableCORS()">Always send Known Bad JSON:</button>
    <button onclick="disableCORS()">Always send Good JSON:</button>







</div>

<script>
    pnInit();
</script>

</body>
</html>


