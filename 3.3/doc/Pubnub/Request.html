<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Pubnub::Request
  
    &mdash; Documentation by YARD 0.8.6.1
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (R)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Pubnub.html" title="Pubnub (module)">Pubnub</a></span></span>
     &raquo; 
    <span class="title">Request</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Pubnub::Request
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Pubnub::Request</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="Configuration.html" title="Pubnub::Configuration (module)">Configuration</a></span>, <span class='object_link'><a href="Error.html" title="Pubnub::Error (module)">Error</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/pubnub/request.rb</dd>
  
</dl>
<div class="clear"></div>


  <h2>Constant Summary</h2>
  



  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="Configuration.html" title="Pubnub::Configuration (module)">Configuration</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Configuration.html#DEFAULT_AUTO_RECONNECT-constant" title="Pubnub::Configuration::DEFAULT_AUTO_RECONNECT (constant)">Configuration::DEFAULT_AUTO_RECONNECT</a></span>, <span class='object_link'><a href="Configuration.html#DEFAULT_CALLBACK-constant" title="Pubnub::Configuration::DEFAULT_CALLBACK (constant)">Configuration::DEFAULT_CALLBACK</a></span>, <span class='object_link'><a href="Configuration.html#DEFAULT_CHANNEL-constant" title="Pubnub::Configuration::DEFAULT_CHANNEL (constant)">Configuration::DEFAULT_CHANNEL</a></span>, <span class='object_link'><a href="Configuration.html#DEFAULT_CONTENT_TYPE-constant" title="Pubnub::Configuration::DEFAULT_CONTENT_TYPE (constant)">Configuration::DEFAULT_CONTENT_TYPE</a></span>, <span class='object_link'><a href="Configuration.html#DEFAULT_ENCODING-constant" title="Pubnub::Configuration::DEFAULT_ENCODING (constant)">Configuration::DEFAULT_ENCODING</a></span>, <span class='object_link'><a href="Configuration.html#DEFAULT_HEADERS-constant" title="Pubnub::Configuration::DEFAULT_HEADERS (constant)">Configuration::DEFAULT_HEADERS</a></span>, <span class='object_link'><a href="Configuration.html#DEFAULT_METHOD-constant" title="Pubnub::Configuration::DEFAULT_METHOD (constant)">Configuration::DEFAULT_METHOD</a></span>, <span class='object_link'><a href="Configuration.html#DEFAULT_ORIGIN-constant" title="Pubnub::Configuration::DEFAULT_ORIGIN (constant)">Configuration::DEFAULT_ORIGIN</a></span>, <span class='object_link'><a href="Configuration.html#DEFAULT_PARAMS-constant" title="Pubnub::Configuration::DEFAULT_PARAMS (constant)">Configuration::DEFAULT_PARAMS</a></span>, <span class='object_link'><a href="Configuration.html#DEFAULT_PATH-constant" title="Pubnub::Configuration::DEFAULT_PATH (constant)">Configuration::DEFAULT_PATH</a></span>, <span class='object_link'><a href="Configuration.html#DEFAULT_PORT-constant" title="Pubnub::Configuration::DEFAULT_PORT (constant)">Configuration::DEFAULT_PORT</a></span>, <span class='object_link'><a href="Configuration.html#DEFAULT_PUBLISH_KEY-constant" title="Pubnub::Configuration::DEFAULT_PUBLISH_KEY (constant)">Configuration::DEFAULT_PUBLISH_KEY</a></span>, <span class='object_link'><a href="Configuration.html#DEFAULT_SECRET_KEY-constant" title="Pubnub::Configuration::DEFAULT_SECRET_KEY (constant)">Configuration::DEFAULT_SECRET_KEY</a></span>, <span class='object_link'><a href="Configuration.html#DEFAULT_SSL_SET-constant" title="Pubnub::Configuration::DEFAULT_SSL_SET (constant)">Configuration::DEFAULT_SSL_SET</a></span>, <span class='object_link'><a href="Configuration.html#DEFAULT_SUBSCRIBE_KEY-constant" title="Pubnub::Configuration::DEFAULT_SUBSCRIBE_KEY (constant)">Configuration::DEFAULT_SUBSCRIBE_KEY</a></span>, <span class='object_link'><a href="Configuration.html#DEFAULT_TIMEOUT-constant" title="Pubnub::Configuration::DEFAULT_TIMEOUT (constant)">Configuration::DEFAULT_TIMEOUT</a></span>, <span class='object_link'><a href="Configuration.html#DEFAULT_TIMETOKEN-constant" title="Pubnub::Configuration::DEFAULT_TIMETOKEN (constant)">Configuration::DEFAULT_TIMETOKEN</a></span>, <span class='object_link'><a href="Configuration.html#DEFAULT_USER_AGENT-constant" title="Pubnub::Configuration::DEFAULT_USER_AGENT (constant)">Configuration::DEFAULT_USER_AGENT</a></span>, <span class='object_link'><a href="Configuration.html#MAX_RETRIES-constant" title="Pubnub::Configuration::MAX_RETRIES (constant)">Configuration::MAX_RETRIES</a></span>, <span class='object_link'><a href="Configuration.html#PERIODIC_TIMER-constant" title="Pubnub::Configuration::PERIODIC_TIMER (constant)">Configuration::PERIODIC_TIMER</a></span>, <span class='object_link'><a href="Configuration.html#RETRYING_TIME-constant" title="Pubnub::Configuration::RETRYING_TIME (constant)">Configuration::RETRYING_TIME</a></span></p>


  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#callback-instance_method" title="#callback (instance method)">- (Object) <strong>callback</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute callback.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#channel-instance_method" title="#channel (instance method)">- (Object) <strong>channel</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute channel.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#cipher_key-instance_method" title="#cipher_key (instance method)">- (Object) <strong>cipher_key</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute cipher_key.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#envelopes-instance_method" title="#envelopes (instance method)">- (Object) <strong>envelopes</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute envelopes.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#message-instance_method" title="#message (instance method)">- (Object) <strong>message</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute message.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#operation-instance_method" title="#operation (instance method)">- (Object) <strong>operation</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute operation.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#port-instance_method" title="#port (instance method)">- (Object) <strong>port</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute port.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#publish_key-instance_method" title="#publish_key (instance method)">- (Object) <strong>publish_key</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute publish_key.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#response-instance_method" title="#response (instance method)">- (Object) <strong>response</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute response.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#secret_key-instance_method" title="#secret_key (instance method)">- (Object) <strong>secret_key</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute secret_key.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#ssl-instance_method" title="#ssl (instance method)">- (Object) <strong>ssl</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute ssl.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#subscribe_key-instance_method" title="#subscribe_key (instance method)">- (Object) <strong>subscribe_key</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute subscribe_key.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#timetoken-instance_method" title="#timetoken (instance method)">- (Object) <strong>timetoken</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute timetoken.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#encode_path-instance_method" title="#encode_path (instance method)">- (Object) <strong>encode_path</strong>(request) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#handle_response-instance_method" title="#handle_response (instance method)">- (Object) <strong>handle_response</strong>(http) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Request) <strong>initialize</strong>(options = {}) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of Request.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#origin-instance_method" title="#origin (instance method)">- (Object) <strong>origin</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#params-instance_method" title="#params (instance method)">- (Object) <strong>params</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#path-instance_method" title="#path (instance method)">- (Object) <strong>path</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#query-instance_method" title="#query (instance method)">- (Object) <strong>query</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  
  
  
  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Pubnub::Request (class)">Request</a></span></tt>) <strong>initialize</strong>(options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>A new instance of Request</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pubnub/request.rb', line 16</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='ivar'>@options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>

  <span class='ivar'>@params</span>        <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:params</span><span class='rbracket'>]</span>
  <span class='ivar'>@operation</span>     <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:operation</span><span class='rbracket'>]</span>
  <span class='ivar'>@callback</span>      <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:callback</span><span class='rbracket'>]</span>
  <span class='ivar'>@channel</span>       <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:channel</span><span class='rbracket'>]</span>
  <span class='ivar'>@message</span>       <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:message</span><span class='rbracket'>]</span>
  <span class='ivar'>@timetoken</span>     <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:timetoken</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@timetoken</span>     <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:override_timetoken</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:override_timetoken</span><span class='rbracket'>]</span>
  <span class='ivar'>@ssl</span>           <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:ssl</span><span class='rbracket'>]</span>
  <span class='ivar'>@params</span>        <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:params</span><span class='rbracket'>]</span>

  <span class='ivar'>@history_limit</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:limit</span><span class='rbracket'>]</span>

  <span class='ivar'>@port</span>          <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:port</span><span class='rbracket'>]</span>
  <span class='ivar'>@host</span>          <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:origin</span><span class='rbracket'>]</span>
  <span class='ivar'>@query</span>         <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:query</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_set_cipher_key'>set_cipher_key</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='ivar'>@cipher_key</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>publish</span><span class='words_sep'> </span><span class='tstring_content'>subscribe</span><span class='words_sep'> </span><span class='tstring_content'>history</span><span class='words_sep'>)</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='ivar'>@operation</span>
  <span class='id identifier rubyid_set_message'>set_message</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='ivar'>@cipher_key</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>publish</span><span class='words_sep'>)</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='ivar'>@operation</span>
  <span class='id identifier rubyid_set_publish_key'>set_publish_key</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='ivar'>@publish_key</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>publish</span><span class='words_sep'>)</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='ivar'>@operation</span>
  <span class='id identifier rubyid_set_subscribe_key'>set_subscribe_key</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='ivar'>@subscribe_key</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>publish</span><span class='words_sep'> </span><span class='tstring_content'>presence</span><span class='words_sep'> </span><span class='tstring_content'>here_now</span><span class='words_sep'> </span><span class='tstring_content'>history</span><span class='words_sep'> </span><span class='tstring_content'>subscribe</span><span class='words_sep'> </span><span class='tstring_content'>leave</span><span class='words_sep'>)</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='ivar'>@operation</span>
  <span class='id identifier rubyid_set_secret_key'>set_secret_key</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='ivar'>@secret_key</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>publish</span><span class='words_sep'> </span><span class='tstring_content'>subscribe</span><span class='words_sep'>)</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='ivar'>@operation</span>

<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="callback=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="callback-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>callback</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute callback</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pubnub/request.rb', line 14</span>

<span class='kw'>def</span> <span class='id identifier rubyid_callback'>callback</span>
  <span class='ivar'>@callback</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="channel=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="channel-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>channel</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute channel</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pubnub/request.rb', line 14</span>

<span class='kw'>def</span> <span class='id identifier rubyid_channel'>channel</span>
  <span class='ivar'>@channel</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="cipher_key=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="cipher_key-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>cipher_key</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute cipher_key</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pubnub/request.rb', line 14</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cipher_key'>cipher_key</span>
  <span class='ivar'>@cipher_key</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="envelopes=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="envelopes-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>envelopes</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute envelopes</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pubnub/request.rb', line 14</span>

<span class='kw'>def</span> <span class='id identifier rubyid_envelopes'>envelopes</span>
  <span class='ivar'>@envelopes</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="message=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="message-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>message</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute message</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pubnub/request.rb', line 14</span>

<span class='kw'>def</span> <span class='id identifier rubyid_message'>message</span>
  <span class='ivar'>@message</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="operation=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="operation-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>operation</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute operation</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pubnub/request.rb', line 14</span>

<span class='kw'>def</span> <span class='id identifier rubyid_operation'>operation</span>
  <span class='ivar'>@operation</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="port=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="port-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>port</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute port</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pubnub/request.rb', line 14</span>

<span class='kw'>def</span> <span class='id identifier rubyid_port'>port</span>
  <span class='ivar'>@port</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="publish_key=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="publish_key-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>publish_key</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute publish_key</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pubnub/request.rb', line 14</span>

<span class='kw'>def</span> <span class='id identifier rubyid_publish_key'>publish_key</span>
  <span class='ivar'>@publish_key</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="response=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="response-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>response</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute response</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pubnub/request.rb', line 14</span>

<span class='kw'>def</span> <span class='id identifier rubyid_response'>response</span>
  <span class='ivar'>@response</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="secret_key=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="secret_key-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>secret_key</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute secret_key</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pubnub/request.rb', line 14</span>

<span class='kw'>def</span> <span class='id identifier rubyid_secret_key'>secret_key</span>
  <span class='ivar'>@secret_key</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="ssl=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="ssl-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>ssl</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute ssl</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pubnub/request.rb', line 14</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ssl'>ssl</span>
  <span class='ivar'>@ssl</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="subscribe_key=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="subscribe_key-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>subscribe_key</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute subscribe_key</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pubnub/request.rb', line 14</span>

<span class='kw'>def</span> <span class='id identifier rubyid_subscribe_key'>subscribe_key</span>
  <span class='ivar'>@subscribe_key</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="timetoken=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="timetoken-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>timetoken</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute timetoken</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pubnub/request.rb', line 14</span>

<span class='kw'>def</span> <span class='id identifier rubyid_timetoken'>timetoken</span>
  <span class='ivar'>@timetoken</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="encode_path-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>encode_path</strong>(request) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


130
131
132
133
134
135
136
137
138</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pubnub/request.rb', line 130</span>

<span class='kw'>def</span> <span class='id identifier rubyid_encode_path'>encode_path</span><span class='lparen'>(</span><span class='id identifier rubyid_request'>request</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_encode'>encode</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:empty?</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='ivar'>@operation</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>leave</span><span class='tstring_end'>'</span></span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='rbrace'>}</span><span class='tstring_content'>/leave</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_path'>path</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="handle_response-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>handle_response</strong>(http) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pubnub/request.rb', line 155</span>

<span class='kw'>def</span> <span class='id identifier rubyid_handle_response'>handle_response</span><span class='lparen'>(</span><span class='id identifier rubyid_http'>http</span><span class='rparen'>)</span>
  <span class='ivar'>@response</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_http'>http</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:body</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_http'>http</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:code</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_http'>http</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:message</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_http'>http</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:headers</span><span class='rparen'>)</span> <span class='comment'># httparty
</span>    <span class='ivar'>@response</span> <span class='op'>=</span> <span class='const'>Yajl</span><span class='period'>.</span><span class='id identifier rubyid_load'>load</span><span class='lparen'>(</span><span class='id identifier rubyid_http'>http</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span><span class='rparen'>)</span>
  <span class='kw'>else</span> <span class='comment'># em-http-request
</span>    <span class='ivar'>@response</span> <span class='op'>=</span> <span class='id identifier rubyid_http'>http</span><span class='period'>.</span><span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:content</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='const'>Yajl</span><span class='period'>.</span><span class='id identifier rubyid_load'>load</span><span class='lparen'>(</span><span class='id identifier rubyid_http'>http</span><span class='period'>.</span><span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_content'>content</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='const'>Yajl</span><span class='period'>.</span><span class='id identifier rubyid_load'>load</span><span class='lparen'>(</span><span class='id identifier rubyid_http'>http</span><span class='period'>.</span><span class='id identifier rubyid_response'>response</span><span class='rparen'>)</span>
  <span class='kw'>end</span>


  <span class='ivar'>@last_timetoken</span> <span class='op'>=</span> <span class='ivar'>@timetoken</span>
  <span class='ivar'>@timetoken</span> <span class='op'>=</span> <span class='ivar'>@response</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='ivar'>@operation</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>time</span><span class='tstring_end'>'</span></span>

  <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_cipher_key'>cipher_key</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span> <span class='op'>&amp;&amp;</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>subscribe</span><span class='words_sep'> </span><span class='tstring_content'>history</span><span class='words_sep'>)</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='ivar'>@operation</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_response_array'>response_array</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_crypto'>crypto</span> <span class='op'>=</span> <span class='const'>Pubnub</span><span class='op'>::</span><span class='const'>Crypto</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@cipher_key</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>subscribe</span><span class='words_sep'> </span><span class='tstring_content'>history</span><span class='words_sep'>)</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='ivar'>@operation</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_iteration'>iteration</span> <span class='op'>=</span> <span class='ivar'>@response</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_iteration'>iteration</span> <span class='op'>=</span> <span class='ivar'>@response</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_iteration'>iteration</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_msg'>msg</span><span class='op'>|</span>
      <span class='id identifier rubyid_response_array'>response_array</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_crypto'>crypto</span><span class='period'>.</span><span class='id identifier rubyid_decrypt'>decrypt</span><span class='lparen'>(</span><span class='id identifier rubyid_msg'>msg</span><span class='rparen'>)</span>
    <span class='kw'>end</span> <span class='kw'>if</span> <span class='id identifier rubyid_iteration'>iteration</span>

    <span class='kw'>case</span> <span class='ivar'>@operation</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>subscribe</span><span class='tstring_end'>'</span></span>
        <span class='ivar'>@response</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_response_array'>response_array</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>history</span><span class='tstring_end'>'</span></span>
        <span class='id identifier rubyid_json_response_data'>json_response_data</span> <span class='op'>=</span> <span class='const'>Yajl</span><span class='period'>.</span><span class='id identifier rubyid_load'>load</span><span class='lparen'>(</span><span class='id identifier rubyid_http'>http</span><span class='period'>.</span><span class='id identifier rubyid_response'>response</span><span class='rparen'>)</span>
        <span class='ivar'>@response</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_response_array'>response_array</span><span class='comma'>,</span> <span class='id identifier rubyid_json_response_data'>json_response_data</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_json_response_data'>json_response_data</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='ivar'>@envelopes</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

  <span class='kw'>if</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>subscribe</span><span class='words_sep'> </span><span class='tstring_content'>history</span><span class='words_sep'>)</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='ivar'>@operation</span>
    <span class='ivar'>@response</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_res'>res</span><span class='comma'>,</span><span class='id identifier rubyid_index'>index</span><span class='op'>|</span>
      <span class='ivar'>@envelopes</span> <span class='op'>&lt;&lt;</span> <span class='const'>Pubnub</span><span class='op'>::</span><span class='const'>Response</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:http</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_http'>http</span><span class='comma'>,</span> <span class='symbol'>:index</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_index'>index</span><span class='comma'>,</span> <span class='symbol'>:response</span> <span class='op'>=&gt;</span> <span class='ivar'>@response</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='ivar'>@envelopes</span> <span class='op'>&lt;&lt;</span> <span class='const'>Pubnub</span><span class='op'>::</span><span class='const'>Response</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:http</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_http'>http</span><span class='comma'>,</span> <span class='symbol'>:channel</span> <span class='op'>=&gt;</span> <span class='ivar'>@channel</span><span class='comma'>,</span> <span class='symbol'>:response</span> <span class='op'>=&gt;</span> <span class='ivar'>@response</span><span class='comma'>,</span> <span class='symbol'>:operation</span> <span class='op'>=&gt;</span> <span class='ivar'>@operation</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="origin-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>origin</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


53
54
55
56
57
58
59
60
61
62</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pubnub/request.rb', line 53</span>

<span class='kw'>def</span> <span class='id identifier rubyid_origin'>origin</span>
  <span class='kw'>if</span> <span class='ivar'>@ssl</span>
    <span class='ivar'>@origin</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>https://</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='ivar'>@host</span>
    <span class='ivar'>@port</span> <span class='op'>=</span> <span class='int'>443</span>
  <span class='kw'>else</span>
    <span class='ivar'>@origin</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>http://</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='ivar'>@host</span>
    <span class='ivar'>@port</span> <span class='op'>=</span> <span class='int'>80</span>
  <span class='kw'>end</span>
  <span class='ivar'>@origin</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="params-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>params</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


140
141
142
143
144
145
146
147</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pubnub/request.rb', line 140</span>

<span class='kw'>def</span> <span class='id identifier rubyid_params'>params</span>
  <span class='id identifier rubyid_flat'>flat</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@params</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_param'>param</span><span class='comma'>,</span><span class='id identifier rubyid_val'>val</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_flat'>flat</span><span class='lbracket'>[</span><span class='id identifier rubyid_param'>param</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_flat'>flat</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="path-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>path</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pubnub/request.rb', line 64</span>

<span class='kw'>def</span> <span class='id identifier rubyid_path'>path</span>
  <span class='id identifier rubyid_encode_path'>encode_path</span><span class='lparen'>(</span><span class='kw'>case</span> <span class='ivar'>@operation</span>
               <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>publish</span><span class='tstring_end'>'</span></span>
                 <span class='lbracket'>[</span>
                     <span class='ivar'>@operation</span><span class='comma'>,</span>
                     <span class='ivar'>@publish_key</span><span class='comma'>,</span>
                     <span class='ivar'>@subscribe_key</span><span class='comma'>,</span>
                     <span class='ivar'>@secret_key</span><span class='comma'>,</span>
                     <span class='ivar'>@channel</span><span class='comma'>,</span>
                     <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>0</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
                     <span class='ivar'>@message</span><span class='period'>.</span><span class='id identifier rubyid_to_json'>to_json</span>
                 <span class='rbracket'>]</span>
               <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>subscribe</span><span class='tstring_end'>'</span></span>
                 <span class='lbracket'>[</span>
                     <span class='ivar'>@operation</span><span class='comma'>,</span>
                     <span class='ivar'>@subscribe_key</span><span class='comma'>,</span>
                     <span class='ivar'>@channel</span><span class='comma'>,</span>
                     <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>0</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
                     <span class='ivar'>@timetoken</span>
                 <span class='rbracket'>]</span>
               <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>presence</span><span class='tstring_end'>'</span></span>
                 <span class='lbracket'>[</span>
                     <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>subscribe</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
                     <span class='ivar'>@subscribe_key</span><span class='comma'>,</span>
                     <span class='ivar'>@channel</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>-pnpres</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
                     <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>0</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
                     <span class='ivar'>@timetoken</span>
                 <span class='rbracket'>]</span>
               <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>time</span><span class='tstring_end'>'</span></span>
                 <span class='lbracket'>[</span>
                     <span class='ivar'>@operation</span><span class='comma'>,</span>
                     <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>0</span><span class='tstring_end'>'</span></span>
                 <span class='rbracket'>]</span>
               <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>history</span><span class='tstring_end'>'</span></span>
                 <span class='lbracket'>[</span>
                     <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>v2</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
                     <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>history</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
                     <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>sub-key</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
                     <span class='ivar'>@subscribe_key</span><span class='comma'>,</span>
                     <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>channel</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
                     <span class='ivar'>@channel</span>
                 <span class='rbracket'>]</span>
                <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>here_now</span><span class='tstring_end'>'</span></span>
                  <span class='lbracket'>[</span>
                      <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>v2</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
                      <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>presence</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
                      <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>sub-key</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
                      <span class='ivar'>@subscribe_key</span><span class='comma'>,</span>
                      <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>channel</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
                      <span class='ivar'>@channel</span>
                  <span class='rbracket'>]</span>
                <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>leave</span><span class='tstring_end'>'</span></span>
                  <span class='lbracket'>[</span>
                      <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>v2</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
                      <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>presence</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
                      <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>sub-key</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
                      <span class='ivar'>@subscribe_key</span><span class='comma'>,</span>
                      <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>channel</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
                      <span class='ivar'>@channel</span>
                  <span class='rbracket'>]</span>
                <span class='kw'>else</span>
                 <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I can't create that URL for you due to unknown operation type.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
             <span class='kw'>end</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="query-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>query</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


149
150
151
152
153</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pubnub/request.rb', line 149</span>

<span class='kw'>def</span> <span class='id identifier rubyid_query'>query</span>
  <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_param'>param</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='lbracket'>[</span><span class='id identifier rubyid_param'>param</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>=</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&amp;</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Tue May 21 07:26:37 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.6.1 (ruby-1.9.3).
</div>

  </body>
</html>